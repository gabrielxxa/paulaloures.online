/*! 20230920-27-RELEASE */
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t="TFASC";t.indexOf("{jsScope}")>-1&&(t="TRC"),e[t]||(e[t]={})}(window),function(e,t){e.TRC=e.TRC||{};var n=function(){return!0},r=function(n,r,i,o){var a=n+"/"+encodeURIComponent(i||e.TRC.publisherId)+"/log/3/"+r;return o&&(a+="?"+t.TRCLogger.formatParams(o)),a},i=function(t,r,i){var a=new(e.XDomainRequest||e.XMLHttpRequest);return a.open(t,r),a.onload=n,a.onerror=n,a.ontimeout=n,a.onprogress=n,a.withCredentials=!0,i&&o(a,i),a},o=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])};e.TRC.TRCLogger=t.TRCLogger={post:function(n,o,a,s,c,u){var l=r(n,o,s,c),f=i("POST",l);u&&"function"==typeof e.navigator.sendBeacon?e.navigator.sendBeacon(l,t.TRCLogger.formatBeaconParams(a)):(f.setRequestHeader&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(t.TRCLogger.formatParams(a)))},get:function(e,t,n,o){if(n.headers){var a=n.headers;delete n.headers}var s=r(e,t,o,n);i("GET",s,a).send()},formatParams:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},formatBeaconParams:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return new Blob([t.slice(0,-1)],{type:"application/x-www-form-urlencoded"})},reportES:function(e){if(t&&t.util&&t.util.isPercentEnabled(TRCImpl.global,"enable-rbox-es-events")){var n=TRCImpl&&TRCImpl.global&&TRCImpl.global["rbox-es-events-url"]||"https://vidanalytics.taboola.com/putes";n=n+"/"+e.index;var r={timestamp:(new Date).toISOString(),name:e.name};for(var i in e.data)r[i]=e.data[i];if("function"==typeof navigator.sendBeacon)navigator.sendBeacon(n,JSON.stringify(r));else{var o=new XMLHttpRequest;o.open("POST",n,!0),o.send(JSON.stringify(r))}}}}}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t){if(t&&!t.MessageDelayer){var n=function(n){return function(r){var i=r.detail,o=r.type,a=""+i[this.groupingKeyName],s=this.delayedEventsMap[a],c=t.eventUtils.getDateNow();if(s){this.timeoutHandles[a]&&(clearTimeout(this.timeoutHandles[a]),this.timeoutHandles[a]=null);var u=[].concat(s);this.delayedEventsMap[a]=[];for(var l=0;l<u.length;l++){var f=u[l];n(f.config).apply(e,[f.groupingKey,f.message,i,o,c-f.queueTime])}}}},r=n((function(e){return e.successCallback})),i=n((function(e){return e.failCallback})),o=function(e,t){var n=""+e;this.timeoutHandles[n]||(this.timeoutHandles[n]=setTimeout(function(){this.timeoutHandles[n]=null;var t={};t[this.groupingKeyName]=e,i.call(this,{detail:t,type:"dt"})}.bind(this),t))};t.MessageDelayer=function(e,n,o){if(this.groupingKeyName=e,this.delayedEventsMap={},this.timeoutHandles={},t.eventUtils.safeAddEventListener(n,r.bind(this)),o)for(var a=0;a<o.length;a++)t.eventUtils.safeAddEventListener(o[a],i.bind(this))},t.MessageDelayer.prototype={constructor:t.MessageDelayer,delayMessage:function(e,n,r){var i=""+e;r.failCallback=r.failCallback||function(){},this.delayedEventsMap[i]||(this.delayedEventsMap[i]=[]),this.delayedEventsMap[i].push({groupingKey:e,message:n,config:r,queueTime:t.eventUtils.getDateNow()}),r.timeoutInMillis&&o.call(this,e,r.timeoutInMillis)}}}}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e){e.TRC=e.TRC||{},e.TRC.sharedObjects=e.TRC.sharedObjects||{},e.TRC.sharedObjects.loadedScripts=e.TRC.sharedObjects.loadedScripts||{},e.TRC.sharedObjects.loadedPixels=e.TRC.sharedObjects.loadedPixels||{}}(window),function(e,t,n){!function(){if("function"==typeof e.CustomEvent)return!1;function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=t.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}n.prototype=e.Event.prototype,e.CustomEvent=n}(),n.eventUtils=n.eventUtils||{},n.eventUtils.dispatchEvent=n.eventUtils.dispatchEvent||function(e,t){"function"==typeof CustomEvent&&document.dispatchEvent(new CustomEvent(e,{detail:t||{}}))},n.eventUtils.safeAddEventListener=n.eventUtils.safeAddEventListener||function(e,t){document.addEventListener(e,(function(e){try{t.call(this,e)}catch(e){}}))},n.eventUtils.safeAddEventListenerToWindow=n.eventUtils.safeAddEventListenerToWindow||function(e,t){window.addEventListener(e,(function(e){try{t.call(this,e)}catch(e){}}))},n.eventUtils.getDateNow=n.eventUtils.getDateNow||function(){var e,t;if(Date.now){if("number"==typeof(e=Date.now()))return e;if("number"==typeof(t=Number(e)))return t}return(new Date).getTime()},n.eventUtils.hashString=n.eventUtils.hashString||function(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t},n.sharedEvents=n.sharedEvents||{PAGE_VIEW:"TRK_TFA_PAGE_VIEW",REQUEST_ID_CREATED:"TRK_TFA_REQUEST_ID_CREATED",REQUEST_ID_CREATION_TIMEOUT:"TRK_TFA_REQUEST_ID_CREATION_TIMEOUT",REQUEST_ID_CREATION_ERROR:"TRK_TFA_REQUEST_ID_CREATION_ERROR",REQUEST_ID_CREATION_JS_ERROR:"TRK_TFA_REQUEST_ID_CREATION_JS_ERROR",INVALID_TRK_RESPONSE:"TRK_TFA_INVALID_TRK_RESPONSE"},n.publisherIdType=n.publisherIdType||{NAME:"n",ID:"i"},n.pageViewInitiator=n.pageViewInitiator||{TRK:"trk",TFA:"tfa"}}(window,document,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t){e._tfa=e._tfa||[],e._tfa.config||(e._tfa.TfaConfig=function(){this.configMap={}},e._tfa.TfaConfig.prototype={safeGet:function(e,t,n){var r,i;if(n&&this.configMap[n])r=""+n;else{if(!this.firstPublisherId)return t;r=this.firstPublisherId}try{return void 0===(i=this.configMap[r][e])?t:i}catch(e){return t}},hasValidConfig:function(){return!!this.firstPublisherId},addConfig:function(e,t){"string"==typeof t||t instanceof String||(this.firstPublisherId||(this.firstPublisherId=e),this.configMap[""+e]=t)}},e._tfa.config=new e._tfa.TfaConfig,e._taboola=e._taboola||[]),e._tfa.config.addConfig(1566654,{"tfa:event-host-map":{pre_d_eng_tb:"trc-events.taboola.com"},"tfa:add-item-url:event-list":"*","tfa:trk:is-unified-page-view":!0,"eid:send-eid-encoded":!0,"tfa-uid:send-ids-to-cds":!1,"cds:send-uad-req":!0,"cds:send-dnid-req":!0,"tfa:get-publisher-id-from-baker":!0,"tfa:trk:flc-enabled":!0,"tfa:engagement:return-visits:is-enabled":!0,"tfa:collect-eid-from-page":!1,"eid-enabled":"false","eid:tfa:common-eid-keywords":"help,support,contact,readme,test,info,reply,careers,spam,login,subscribe,feedback,reachus,customers,cookie,members","trc:user-history:conversion-incrementality-enable":!1,"tfa:trk:topics-enabled":!0})}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t,n){"use strict";var r,i,o,a,s=e[n.jsScope],c={map:function(e,t){if("function"==typeof Array.prototype.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t));return n},forEach:function(e,t){if("function"==typeof Array.prototype.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},filter:function(e,t){if("function"==typeof Array.prototype.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n},objKeys:Object.keys||(r=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=o.length,function(e){if("function"!=typeof e&&("object"!==_typeof(e)||null===e))throw new TypeError("Object.keys called on non-object");var t,n,s=[];for(t in e)r.call(e,t)&&s.push(t);if(i)for(n=0;n<a;n++)r.call(e,o[n])&&s.push(o[n]);return s})};n.networkMap&&"string"!=typeof n.networkMap||(n.networkMap={});var u,l,f=null,d=null,h=null,g=null,p={},v=0,m=!1,S="requestTimeoutHandle",b="requestId",y="requestStatus",T="trkRequestDone",E="init",I=["tto","f"],C=[E,"pr","pud"],w=((l={})[s.publisherIdType.NAME]="name",l[s.publisherIdType.ID]="id",l),k=function(){for(var e={},t=c.objKeys(n.networkMap),r=0;r<t.length;++r){e[""+n.networkMap[t[r]][w[s.publisherIdType.ID]]]=!0}return e}(),R="TRK_RELEASE_DELAYED_REQUESTS_EVENT",_=function(){var e={gk:"dk"};return e}(),O=new s.MessageDelayer("gk",R),A=function(e,t){D=D.loadTrc(t.publisherId,t.publisherIdType,t.config,t.requestData)},U={UNINITIALIZED:{loadTrc:function(e,t,n,r){var i=me();return q(e,t,n,r),i?U.USER_ID_SET:U.PENDING_USER_ID_SET}},PENDING_USER_ID_SET:{loadTrc:function(e,t,n,r){return r[y]="pud",O.delayMessage("dk",{publisherId:e,publisherIdType:t,config:n,requestData:r},{successCallback:A}),U.PENDING_USER_ID_SET}},USER_ID_SET:{loadTrc:function(e,t,n,r){return q(e,t,n,r),U.USER_ID_SET}}},D=U.UNINITIALIZED,P=(e.taboola_view_id||(e.taboola_view_id=(new Date).getTime()),e.taboola_view_id),N=function(e){s.trk.cookieBannerConsent=e},x=function(){return s.trk.cookieBannerProvider&&s.trk.cookieBannerConsent?{cookieBannerConsent:s.trk.cookieBannerConsent,cookieBannerProvider:s.trk.cookieBannerProvider}:null},M=function(){return!0===n.tfaContext},L=function(e,t,n){var r=e.split(t);return r.slice(0,n-1).concat(r.length>=n?r.slice(n-1).join(t):[])},V=function(e){if(!e)throw new Error("Invalid URL!");this.href=e;var t=L(e,"#",2);return this.hash=t.length>1?"#"+t.pop():"",e=t[0],t=L(e,"?",2),this.search=t.length>1?"?"+t.pop():"",e=t[0],t=L(e,"://",2),this.protocol=t.length>1?t.shift()+":":"",e=t[0],t=L(e,"/",2),this.pathname=t.length>1?"/"+t.pop():"/",e=t[0],t=L(e,"@",2),this.auth=t.length>1?t.shift():"",e=t[0],t=L(e,":",2),this.port=t.length>1?parseInt(t.pop()):0,this.host=t[0],this},B={"http:":1,"https:":1};V.prototype.toString=function(e){return(this.host?this.protocol+"//"+(this.auth?this.auth+"@":"")+this.host+(this.port?":"+this.port:""):"")+this.pathname+this.search+(e?"":this.hash||"")},V.prototype.switchProtocol=function(e,t){var n,r=this instanceof V?this:new V(this);return B[e]&&(t&&"https:"===r.protocol||(r.protocol=e)),(n=r.toString(!1)).length>1?n:""},V.prototype.getParameter=function(e){for(var t=(this instanceof V?this:new V(this)).search.substr(1).split(/&/),n=0;n<t.length;n++){var r=t[n].split(new RegExp("="),2);if(unescape(r[0])===e)return unescape(r[1])}return null};var F={states:{ABP_DETECTION_DISABLED:-2,ABP_NOT_DETECTED:0,ABP_DETECTED:1},createBlockDetectionDiv:function(e){var n=t.createElement("div");return n.className=e,n.style.fontSize="initial",n.appendChild(t.createTextNode(".")),t.documentElement.appendChild(n),n},isBlockDetectedOnDiv:function(e){return!e.offsetHeight},isBlockDetectedOnClassNames:function(e){var n,r,i=e.length;for(n=0;n<i;n++)if(e[n]){r=this.createBlockDetectionDiv(e[n]);try{if(this.isBlockDetectedOnDiv(r))return!0}catch(e){}finally{t.documentElement.removeChild(r)}}return!1},getBlockedState:function(e){return se()||ce()?this.states.ABP_NOT_DETECTED:e&&this.isBlockDetectedOnClassNames(e)?this.states.ABP_DETECTED:this.states.ABP_NOT_DETECTED}},K=function(e){s[e.callbackName]=function(){},e.newScriptElement.parentNode.removeChild(e.newScriptElement),e.newScriptElement=null,delete e.newScriptElement},j=function(t){K(t),t[y]="tto",t.isMediaRequest||(e.TRC.trkRequestStatus=!1),D===U.PENDING_USER_ID_SET&&(D=U.UNINITIALIZED),t[T]?s.eventUtils.dispatchEvent(s.sharedEvents.INVALID_TRK_RESPONSE,{publisherId:t.publisherId}):s.eventUtils.dispatchEvent(s.sharedEvents.REQUEST_ID_CREATION_TIMEOUT,{publisherId:t.publisherId}),J()},G=function(e,n,r,i){var o=t.getElementsByTagName("script")[0],a=t.createElement("script");return a.type="text/javascript",a.src=e,a.charset="UTF-8",r?a.setAttribute("defer","defer"):i&&a.setAttribute("async","async"),"function"==typeof n&&(a.addEventListener?(a.addEventListener("load",n,!1),a.addEventListener("error",n,!1)):a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||n.apply(a)}),o.parentNode.insertBefore(a,o),a},q=function(t,r,i,o){var a=n.rboxTrcProtocol+"//trc.taboola.com/"+t+"/trc/3/json?tim="+(new Date).getTime()+"&data="+encodeURIComponent(JSON.stringify(H(o)))+"&pubit="+r,s=i.isMediaRequest?e._tfa.config.safeGet("tfa:trk:tracking-request-timeout",2e3,t):5e3;o[y]="pr",o[S]=e.setTimeout(function(e){return function(){j(e)}}(o),s),o.newScriptElement=G(a,(function(){o[T]=!0}))},H=function(e){return s[e.callbackName]=function(e){return function(t){z(e,t)}}(e),ne(e)},W=function(e){var t=p[e=""+e];return t&&t.length>0?t[t.length-1]:null},J=function(){s.eventUtils.dispatchEvent(R,_)},z=function(t,r){if(e.clearTimeout(t[S]),r&&r.trc){if(r.trc.ui?(r.trc.DNT&&"TRUE"===r.trc.DNT.toUpperCase()?localStorage.removeItem("taboola global:user-id"):r.trc.cm||localStorage.setItem("taboola global:user-id",r.trc.ui),D=U.USER_ID_SET):D=U.UNINITIALIZED,r.trc.sd&&!r.trc.cm&&localStorage.setItem(t.publisherId+":session-data",r.trc.sd),r.trc.vl&&r.trc.vl.length){var i=r.trc.vl[0].ri;t.isMediaRequest||(e.TRC.events_ri=i),t[b]=i,t[y]="s",s.eventUtils.dispatchEvent(s.sharedEvents.REQUEST_ID_CREATED,{publisherId:t.publisherId,requestId:i})}t.isMediaRequest&&s.trk.rboxNotLoaded()&&(r.trc.stp&&s.trk.loadPixels(r.trc.stp),r.trc.jst&&s.trk.loadScriptTags(r.trc.jst))}"s"!==t[y]&&(t[y]="f",s.eventUtils.dispatchEvent(s.sharedEvents.REQUEST_ID_CREATION_ERROR,{publisherId:t.publisherId})),t.isMediaRequest||(e.TRC.trkRequestStatus=!(I.indexOf(t[y])>=0)),e.TRC.alertVVResponseLoaded&&e.TRC.alertVVResponseLoaded(n.tblVersion),K(t),J()},Q=function(){var e=/https?:\/\/\w+\.taboola(?:syndication)?\.com/,t=function(t){return e.test(t)?t.split("?")[0]:t.substr(0,400)},n=[function(){for(var e=document.head.getElementsByTagName("link"),t=0;t<e.length;t++)if("referrer"===e[t].rel)return e[t].href;return null},function(){var e=function(){try{return decodeURI(top.window.document.referrer)}catch(e){}return null}();return e?t(e):null}],r=function(){for(var e,t=0;!e&&t<n.length;t++)e=n[t].call(this);return e};return r.innerExtractReferrerFromTopMostReferrer=t,r}(),Y=function(){var e=g;return e||(e=Q()),e},$=function(){if(u)return u;var t;return(u=e.location.search).length>400&&(t=u.substring(0,399),u=t.substring(0,t.lastIndexOf("&"))),u},Z=function(e){var t=X("usprivacy");if("function"==typeof __uspapi)try{__uspapi("getUSPData",1,(function(n,r){r&&n?e(n.uspString):t&&e(t)}))}catch(n){throw t&&e(t),new Error("Error while calling __uspapi for getUSPData")}else t&&e(t)},X=function(e){var t=e+"=",n="; "+document.cookie;if(n)for(var r=n.split(";"),i=0;i<r.length;i++)for(var o=r[i];" "===o.charAt(0);)if(0===(o=o.substring(1,o.length)).indexOf(t))return o.substring(t.length,o.length);return null},ee=function(r,i){var o,a={},u=r.metadata,l=r.publisherId,f=e._tfa.config.safeGet("tfa:trk:should-send-media-data",!0,l),d=e._tfa.config.safeGet("tfa:trk:media-data-param-name","mpvd",l),h=e._tfa.config.safeGet("tfa:trk:unified-page-view-param-name","supv",l),g={};return e._tfa.config.safeGet("tfa:trk:collect-cookie-banner-consent:enabled",!0,n.bakedPublisherId)&&(g=s.trk.parseCookieBanner())&&(i.cbp=g.cookieBannerProvider.providerName,i.cbpv=g.cookieBannerProvider.version,g.cookieBannerConsent.tcString&&e._tfa.config.safeGet("tfa:trk:send-tc-string:enabled",!0,n.bakedPublisherId)?(i.tcs=g.cookieBannerConsent.tcString,g.cookieBannerConsent.gdprApplies&&(i.ga=g.cookieBannerConsent.gdprApplies),g.cookieBannerConsent.cmpStatus&&(i.cmps=g.cookieBannerConsent.cmpStatus)):g.cookieBannerConsent.consentData&&(i.cbcd=g.cookieBannerConsent.consentData)),c.forEach((function(e){var t=u[e];i.hasOwnProperty(e)&&t===i[e]||(a[e]=t)}),c.objKeys(u)),r.isUnifiedPageView&&(a[h]=!0),f&&(i[d]=a),e._tfa.config.safeGet("tfa:trk:topics-enabled",!1,n.bakedPublisherId)&&t.browsingTopics&&(o=s.trk.readGoogleTopicsApiFromLocalStorage())&&(i.top=o),e._tfa.config.safeGet("tfa:trk:collect-ccpa",!0,n.bakedPublisherId)&&Z((function(e){i.ccpa=e})),i},te=function(t){var r=n.jsScope+"."+t.callbackName,i=F.getBlockedState(["banner_ad","sponsored_ad"]);return{id:~~(1e3*Math.random()),ii:oe(t),it:pe(e._taboola),sd:ve(t.publisherId),ui:me(),vi:P,cv:n.tblVersion,uiv:"default",u:Se(),e:Y(),cb:r,qs:$(),r:[{li:"rbox-tracking",s:0,uim:"rbox-tracking:pub="+n.bakedPublisherName+":abp="+i,uip:"rbox-tracking",orig_uip:"rbox-tracking"}]}},ne=function(e){var t=te(e);return se()&&function(e){var t;if(e){try{t=V.prototype.getParameter.call(window.location.href,"cnsntstr")}catch(e){}t&&(e.tcs=t,e.ga=!0,e.cmps=5),e.ad={sdkd:{os:"AMP",osv:1,sdkt:"Taboola AMP Driver",sdkv:"1"}}}}(t),e.isMediaRequest&&(t=ee(e,t)),t},re=function(e){for(var t=0;t<e.length;++t)for(var n=e[t],r=c.objKeys(n),i=0;i<r.length;++i){var o=r[i],a=n[o];if("unknown"!==a)switch("auto"===a&&(a=""),o){case"video":f=a;break;case"url":h=a;break;case"article":case"category":case"home":case"search":case"photo":case"other":case"content_hub":d=a;break;case"ref_url":g=a}}},ie=function(t){if(t){var n=s.trk.getPublisherRequestId(t);if(n)return n}return e.TRC.events_ri},oe=function(e){var t=null;return f||""===f?t=f:(d||""===d)&&(t=d),(""===t||e.isMediaRequest)&&(t=le("item-id",n.normalizeItemId,n.prenormalizeIdRules)),t},ae=function(e,t,n){var r;if(!n)return t;c.forEach((function(e){var n=t.search(e);n>=0&&(t=t.substr(0,n))}),n["truncate-at"]||[]);for(var i=new V(t),o=c.objKeys(n),a=0;a<o.length;++a){var s=o[a];if(n[s])switch(s){case"host":delete i.host;break;case"trailing-dirsep":for(;"/"===i.pathname.substr(i.pathname.length-1);)i.pathname=i.pathname.substr(0,i.pathname.length-1);break;case"query":var u=[],l=i.search.replace(/^\?/,"").split("&");"string"==typeof(r=n[s])&&(r=new RegExp(r));var f=r instanceof Array?function(e){for(var t=0;t<r.length;t++)if(e===r[t])return!0;return!1}:r instanceof RegExp?r.test.trcBind(r):function(){return!1};l.forEach((function(e){f(decodeURIComponent(e.split("=")[0]))&&u.push(e)})),i.search=(u.length?"?":"")+u.join("&");break;case"fragment":var d=i.hash.replace(/^#/,"");"string"==typeof(r=n[s])&&(r=new RegExp(r)),i.hash="",r instanceof RegExp&&r.test(d)?i.hash="#"+d:r instanceof Array&&r.forEach((function(e){d.search(e)>=0&&(i.hash="#"+d)}))}}return i.pathname||(i.pathname="/"),"item-id"===e?i.toString().toLowerCase():i.toString()},se=function(){return ue(Y(),"ampproject.net")},ce=function(){return ue(Y(),"instantarticles.fb.com")},ue=function(e,t){try{return void 0!==e&&void 0!==t&&e.indexOf(t)>0}catch(e){return!1}},le=function(e,t,r){var i,o,a,s={paramUrl:fe,canonical:de,og:he,location:ge},c=n.urlExtractOrder&&Array.isArray(n.urlExtractOrder)?n.urlExtractOrder:["paramUrl","meta","canonical","og","location"],u=0,l="",d=function(e,t){return ae.call(this,e,t,r)};for(c.push("location");u<c.length&&(!l||/^\s*$/.test(l));)o=c[u],l=(i=s[c[u]])?i.call(null,e,d):null,u++;return"item-url"===e&&o===fe?l:(a=o!==ge,l="function"==typeof t?t.call(this,l,f?"video":"text",a):l)},fe=function(e,t){return!h||"item-id"!==e&&"item-url"!==e?null:t.call(this,e,s.trk.encodeItemUrlIfNeeded(h))},de=function(e,n){for(var r=t.head.getElementsByTagName("link"),i=0;i<r.length;i++)if("canonical"===r[i].rel&&r[i].href)return n.call(this,e,s.trk.encodeItemUrlIfNeeded(r[i].href));return null},he=function(e,n){for(var r=t.head.getElementsByTagName("meta"),i=0;i<r.length;i++)if("og:url"===r[i].getAttribute("property")&&r[i].content.length>5)return n.call(this,e,s.trk.encodeItemUrlIfNeeded(r[i].content));return null},ge=function(t,n){return n.call(this,t,function(){var t=e.location,n=c.filter((function(e){return 0!==e.search("trc_")&&"taboola-debug"!==e}),t.search.replace(/^\?/,"").split("&")).join("&");return t.origin+t.pathname+"?"+n}())},pe=function(e){try{var t=c.objKeys(e[0]);for(var n in t)switch(t[n]){case"home":return"home";case"category":return"category";case"text":case"article":return"text";case"search":return"search";case"photo":return"photo";case"other":return"other";case"content_hub":return"content_hub";default:return"video"}}catch(e){return"video"}},ve=function(e){return localStorage.getItem(e+":session-data")},me=function(){return localStorage.getItem("taboola global:user-id")},Se=function(){return le("item-url",n.normalizeItemUrl,n.prenormalizeUrlRules)},be=function(){for(var e,n=function(e){for(var t,n=/^(.*\/libtrc\/.+\/)(?:(?:trk)|(?:tfa))\.js(?:\?(.*))?$/,r=0;r<e.length;r++)if(t=e[r].src.match(n))return t[1]}(t.getElementsByTagName("script")),r=[{key:"?",index:0},{key:"://",index:1},{key:"//",index:1},{key:"/",index:0}],i=0,o=r.length,a=n;i<o;i++)a=(e=L(a,r[i].key,2)).length>1?e[r[i].index]:e[0];return a},ye=function(){e.TRC.adManager=new e.TRC.AdServerManager(n.vvConfig,n.tblVersion),e.TRC.adManager.startVV().then((function(){e.TRC.adManager.run()}))},Te=function(e,t){return e?e[t]:e},Ee=function(e,t,n){if(0===c.objKeys(n).length||k[""+e])return e;var r=document.createElement("a");r.href=h;var i,o,a,s,u,l=(r.host||location.host).toLowerCase(),f=(r.href||location.href).toLowerCase(),d=w[t],g=Te(n[l],d),p=["m","mobile","www2","www3"],v=[];if(!g){for(function(e,t){for(var n=c.objKeys(e),r=0;r<n.length;r++){var i=n[r];t.push([i,e[i]])}}(n,v),v.sort((function(e,t){return e[0].length>t[0].length?-1:e[0].length<t[0].length?1:0})),i=0,o=v.length;i<o;i++)if((a=v[i][0].toLowerCase()).indexOf("/")>0){if(f.match(a)){g=Te(v[i][1],d);break}if(a.indexOf("www.")>-1&&f.match(a.replace("www.",""))){g=Te(v[i][1],d);break}}else if(l.match(a)){g=Te(v[i][1],d);break}if(!g&&l.indexOf("www.")<0){for(i=0,o=p.length;i<o&&(s=new RegExp("(https://|http://|^)"+p[i]+"."),u=l.replace(s,"www."),!(g=Te(n[u],d)));i++);g||(g=Te(n[u="www."+l],d))}}return g||"unknown-site-on-"+e},Ie=function(e,t,n){var r=W(e);return r?t.call(this,r[y]):n},Ce=function(e,t,n){var r,i,o=[];try{if(!Array.isArray(e))return;for(i=0;i<e.length;i++)(r=e[i])&&!t[r]&&(t[r]=!0,r=V.prototype.switchProtocol.call(r,s.trk.rboxTrcProtocol()),o.push(n(r)));return o}catch(e){}};e.TRC=e.TRC||{},e.TRC.trk=s.trk=e.TRC.trk||{init:function(){s.trk.parseCookieBanner(),e.TRC.utm&&!M()||(M()||m||(e.TRC._getGlobalRequestId=ie,e.TRC._getItemId=oe,e.TRC._getItemType=pe,m=!0),e.TRC.hasTrk?M()||s.trk.execute():e._tfa&&!e._tfa.config.hasValidConfig()||(s.hasTrk=!0,function(){try{localStorage.setItem("taboolaStorageDetection","detect"),localStorage.removeItem("taboolaStorageDetection")}catch(e){return!1}return!0}()&&(s.eventUtils.safeAddEventListener(s.sharedEvents.PAGE_VIEW,(function(t){try{var r,i,o=t.detail,a=o.publisherIdType,c=o.accountId,u=o.pageViewInitiator,l=o.isUnifiedPageView,f=u===s.pageViewInitiator.TFA,d=o.metadata;if(re(e._taboola),f){if(e._tfa.config.safeGet("tfa:trk:prevent-concurrent-requests",!0,c)&&s.trk.isRequestProcessing(c))return;e._tfa.config.safeGet("tfa:trk:network-solution-enabled",!1,c)&&(c=Ee(c,a,n.networkMap))}i=function(e,t,n,r){var i={publisherId:e,isMediaRequest:n.isMediaRequest,isUnifiedPageView:n.isUnifiedPageView,publisherIdType:t,callbackName:"trkCallback"+(0===v?"":v),metadata:r};return i[y]=E,p[e]||(p[e]=[]),p[e].push(i),++v,i}(c,a,r={pageViewInitiator:u,isMediaRequest:f,isUnifiedPageView:l},d),D=D.loadTrc(c,a,r,i)}catch(t){s.eventUtils.dispatchEvent(s.sharedEvents.REQUEST_ID_CREATION_JS_ERROR,{publisherId:c})}})),M()||s.trk.execute(),n.enableVV&&function(){if(!e.TRC.AdServerManager){var t=be();e.TRC.VVReady=ye,G("//"+t+"/libtrc/vv."+n.tblVersion+".js")}}(),M()&&e._tfa.config.safeGet("tfa:trk:topics-enabled",!1,n.bakedPublisherId)&&this.saveGoogleTopicsApiInLocalStorage())))},execute:function(){var t=s.publisherIdType.NAME,r=Ee(n.bakedPublisherName,t,n.networkMap);s.eventUtils.dispatchEvent(s.sharedEvents.PAGE_VIEW,{accountId:r,publisherIdType:t,pageViewInitiator:s.pageViewInitiator.TRK}),e.TRC.publisherId=e.TRC.publisherId||r},getRequestStatus:function(e){var t=W(e);return t?t[y]:"u"},isRequestProcessing:function(e){return Ie(e,(function(e){return C.indexOf(e)>-1}),!1)},hasRequestEnded:function(e){return Ie(e,(function(e){return I.indexOf(e)>-1||!(C.indexOf(e)>-1)}),!1)},getPublisherRequestId:function(e){var t=W(e);return t&&"s"===t[y]?t[b]:null},getPublisherSessionData:function(e){return ve(e)||null},getViewId:function(){return P},getReferrer:Q,getCcpaParam:function(e){return Z(e)},COOKIE_BANNER_MAP:function(){var t=function(){};t.prototype.isCookieBannerOfProvider=function(){throw new Error("method isCookieBannerOfProvider must be implemented in subclasses.")},t.prototype.parseConsent=function(){},t.prototype.addListenerForConsentChange=function(){},t.prototype.isCookieBannerOpen=function(){return!1},t.prototype.version="1";var n=function(){};(n.prototype=Object.create(t.prototype)).constructor=n,n.prototype.providerName="TcfApi",n.prototype.version="2",n.prototype.isCookieBannerOfProvider=function(){return void 0!==e.__tcfapi&&"function"==typeof e.__tcfapi},n.prototype.addListenerForConsentChange=function(){e.__tcfapi("addEventListener",2,(function(e,t){!t||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||N({tcString:e.tcString,gdprApplies:e.gdprApplies,cmpStatus:0})}))};var r=function(){};(r.prototype=Object.create(t.prototype)).constructor=r,r.prototype.providerName="OneTrust",r.prototype.isCookieBannerOfProvider=function(){return void 0!==e.OnetrustActiveGroups&&void 0!==e.OneTrust},r.prototype.parseConsent=function(){N({consentData:e.OnetrustActiveGroups})},r.prototype.addListenerForConsentChange=function(){void 0!==e.OneTrust.OnConsentChanged&&e.OneTrust.OnConsentChanged(s.trk.parseCookieBannerConsent)},r.prototype.isCookieBannerOpen=function(){return void 0!==e.OneTrust.IsAlertBoxClosed&&e.OneTrust.IsAlertBoxClosed()};var i=function(){};(i.prototype=Object.create(t.prototype)).constructor=i,i.prototype.providerName="Didomi",i.prototype.isCookieBannerOfProvider=function(){return void 0!==e.Didomi},i.prototype.parseConsent=function(){void 0!==e.Didomi.getUserStatus&&void 0!==e.Didomi.getUserStatus().consent_string?N({tcString:e.Didomi.getUserStatus().consent_string}):N(null)},i.prototype.addListenerForConsentChange=function(){e.didomiEventListeners=window.didomiEventListeners||[],e.didomiEventListeners.push({event:"consent.changed",listener:function(e){s.trk.parseCookieBannerConsent()}})},i.prototype.isCookieBannerOpen=function(){return void 0!==e.Didomi.notice&&void 0!==e.Didomi.notice.isVisible&&e.Didomi.notice.isVisible()};var o=function(){};(o.prototype=Object.create(t.prototype)).constructor=o,o.prototype.providerName="Usercentrics",o.prototype.isCookieBannerOfProvider=function(){return void 0!==e.UC_UI},o.prototype.parseConsent=function(){"function"==typeof e.UC_UI.areAllConsentsAccepted&&"boolean"==typeof e.UC_UI.areAllConsentsAccepted()?N({consentData:e.UC_UI.areAllConsentsAccepted().toString()}):N(null)};var a=function(){};(a.prototype=Object.create(t.prototype)).constructor=a,a.prototype.providerName="Cookiebot",a.prototype.isCookieBannerOfProvider=function(){return void 0!==e.Cookiebot},a.prototype.parseConsent=function(){void 0!==e.Cookiebot.consent&&"boolean"==typeof e.Cookiebot.consent.marketing?N({consentData:e.Cookiebot.consent.marketing.toString()}):N(null)},a.prototype.addListenerForConsentChange=function(){"function"==typeof window.addEventListener&&window.addEventListener("CookiebotOnConsentReady",(function(e){s.trk.parseCookieBannerConsent()}))};var c=function(){};return(c.prototype=Object.create(t.prototype)).constructor=c,c.prototype.providerName="SourcePoint",c.prototype.isCookieBannerOfProvider=function(){return void 0!==e._sp_},c.prototype.addListenerForConsentChange=function(){"function"==typeof e._sp_.addEventListener?window._sp_.addEventListener("onConsentReady",(function(e,t,n){N("string"==typeof n?{tcString:n,cmpStatus:0}:"string"==typeof t?{tcString:t,cmpStatus:0}:null)})):N(null)},{"TcfApi,V2":new n,"OneTrust,V1":new r,"Didomi,V1":new i,"Usercentrics,V1":new o,"Cookiebot,V1":new a,"SourcePoint,V1":new c}}(),parseCookieBanner:function(){var e,t;try{return(t=x())?t:null===(e=s.trk.parseCookieBannerProvider())?null:(s.trk.parseCookieBannerConsent(e),x())}catch(e){return null}},parseCookieBannerProvider:function(){var e,t;if(s.trk.cookieBannerProvider)return s.trk.COOKIE_BANNER_MAP[s.trk.cookieBannerProvider.providerName+",V"+s.trk.cookieBannerProvider.version];for(t in s.trk.COOKIE_BANNER_MAP)if(s.trk.COOKIE_BANNER_MAP.hasOwnProperty(t)&&(e=s.trk.COOKIE_BANNER_MAP[t]).isCookieBannerOfProvider())return s.trk.cookieBannerProvider={providerName:e.providerName,version:e.version},e.addListenerForConsentChange(),e;return null},parseCookieBannerConsent:function(e){e.isCookieBannerOpen()||e.parseConsent()},loadPixels:function(t){try{return Ce(t,e.TRC.sharedObjects.loadedPixels,(function(e){var t=new Image;return t.src=e,t}))}catch(e){}},loadScriptTags:function(t){try{return Ce(t,e.TRC.sharedObjects.loadedScripts,(function(e){return G(e,null,null,!0)}))}catch(e){}},rboxNotLoaded:function(){return!(e.TRC&&e.TRC.utm)},rboxTrcProtocol:function(){return n.rboxTrcProtocol},saveGoogleTopicsApiInLocalStorage:function(){try{if(!t.browsingTopics)return;return t.browsingTopics().then((function(e){for(var t=[],n=0;n<e.length;n++)if(e[n].topic&&e[n].taxonomyVersion){var r={i:e[n].topic,v:e[n].taxonomyVersion};t.push(r)}localStorage.setItem("taboola global:top",JSON.stringify(t))})).catch((function(){}))}catch(e){}},readGoogleTopicsApiFromLocalStorage:function(){var e,t;try{if((t=(e=localStorage.getItem("taboola global:top"))?JSON.parse(e):null)&&t.length>0)return t}catch(e){}},hasSuperUTFSeq:function(e){for(var t=e.split("").map((function(e){return e.charCodeAt(0)})),n=0,r=0;r<t.length;r++){if(s.trk.isSuperUTF(t[r])||(n=0),n>=3)return!0;n++}return!1},isSuperUTF:function(e){return e>1200},encodeItemUrlIfNeeded:function(e){try{if(s.trk.hasSuperUTFSeq(e))return encodeURI(e)}catch(e){}return e}},M()&&!e._tfa.config.safeGet("tfa:trk:enabled",!0,n.bakedPublisherId)||s.trk.init()}(window,document,{bakedPublisherId:1566654,bakedPublisherName:"taboolaaccount-caioaraujochavesgmailcom",tblVersion:"20230920-27-RELEASE",normalizeItemId:function(e,t,n){return n||"text"!=t||"string"!=typeof e||0!=e.search(new RegExp("^https?://"))||(e=e.replace(/\?.*/,"",!1)),e.toLowerCase()},prenormalizeIdRules:{host:!0,fragment:"^(/video/|!)",query:["p","id"],"truncate-at":["search.searchcompletion.com","org.mozilla.javascript.undefined"],"trailing-dirsep":!0},prenormalizeUrlRules:!1,normalizeItemUrl:function(e,t,n){return e},urlExtractOrder:null,networkMap:{},vvConfig:null,enableVV:!1,rboxTrcProtocol:"https:",tfaContext:!0,jsScope:"TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"}),function(e,t){e._tfa=e._tfa||[],t.useStorageDetection=e.TRC.useStorageDetection=e.TRC.useStorageDetection||!0,t.text=t.text||{},t.text.lsplit=t.text.lsplit||function(e,t,n){var r=e.split(t);return r.slice(0,n-1).concat(r.length>=n?r.slice(n-1).join(t):[])},t.tfaUtil=t.tfaUtil||{},t.tfaUtil.safeAddParam=t.tfaUtil.safeAddParam||function(e,t,n){var r,i;n&&t&&e&&(r=encodeURIComponent(e),i=encodeURIComponent(t),n.push(r+"="+i))},t.tfaUtil.getParameterByName=t.tfaUtil.getParameterByName||function(e,t){if(!t||!e)return null;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};var n=e.TRCImpl=e.TRCImpl||{};n.global=n.global||{},e.__trcError=e.__trcError||function(){}}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t){var n="taboola global";function r(){for(var e="trc_cookie_storage",n=new Object,r=document.cookie.split(/;\s+/),i=0;i<r.length;i++){var o=t.text.lsplit(r[i],"=",2),a=unescape(o[0]),s=unescape(o[1]);if(a==e){for(var c=s.split("|"),u=0;u<c.length;u++){o=c[u].split("=");n[unescape(o[0])]=unescape(o[1])}break}}function l(){var t,r,i=new Array;for(var o in n)n.hasOwnProperty(o)&&null!=n[o]&&(i[i.length]=escape(o)+"="+escape(n[o]));t=i.length>0?1:-1,r=new Date((new Date).getTime()+365*t*864e5),document.cookie=e+"="+escape(i.join("|"))+";path=/;expires="+r.toUTCString()}return this.getValue=function(e){return n.hasOwnProperty(e)?n[e]:null},this.setValue=function(e,t){n[e]=t,l()},this.removeKey=function(e){delete n[e],l()},this}function i(e){var t=e||{};return this.getValue=function(e){return t[e]?t[e]:null},this.setValue=function(e,n){t[e]=n},this.removeKey=function(e){delete t[e]},this.getData=function(){return t},this}function o(t){return this.getValue=function(n){return e[t+"Storage"].getItem(n)},this.setValue=function(n,r){try{e[t+"Storage"].setItem(n,r)}catch(e){}},this.removeKey=function(n){try{e[t+"Storage"].removeItem(n)}catch(e){}},this}function a(n){try{if(e.localStorage instanceof Storage&&t.useStorageDetection&&function(t){var n=e[t+"Storage"],r=(new Date).getTime()+"",i="_taboolaStorageDetection";try{if(n.setItem(i,r),n.getItem(i)==r)return n.removeItem(i),n}catch(e){}return null}(n))return new o(n)}catch(e){return null}}t.tfaPageManager=t.tfaPageManager||new function(){return this.state={},this.getLocalStorageImplementation=function(t,n){if(null!=this.state.privateStorageImpl&&"strict-w3c-storage"!=t)return this.state.privateStorageImpl;var o=e.TRCImpl?e.TRCImpl.global:{};switch(t=t||(o["local-storage-usage"]?o["local-storage-usage"]:"prefer-w3c-storage")){case"strict-w3c-storage":return a("session"===n?"session":"local");case"prefer-w3c-storage":var s=a("local");if(s)return this.state.privateStorageImpl=s;case"prefer-cookies":try{if(this.canWriteCookies())return this.state.privateStorageImpl=new r}catch(e){}default:return this.state.privateStorageImpl=new i}},this.getFirstPartyCookie=function(){if(this.state.firstPartyCookie)return this.state.firstPartyCookie;var e=this.getLocalStorageImplementation();if(e instanceof r||e instanceof i)return this.state.firstPartyCookie=e;try{if(this.canWriteCookies())return this.state.firstPartyCookie=new r}catch(e){}return this.state.firstPartyCookie=new i},this.canWriteCookies=function(){return e.navigator.cookieEnabled},this.getDummyStorage=function(e){return new i(e)},this.getValue=function(e){return this.getPublisherValue(n,e)},this.storePublisherValue=function(e,t,n){var r;this.isNotAllowedToWriteValue(t,n)||(r=this.buildKeyWithPublisher(e,t),this.getLocalStorageImplementation().setValue(r,n),this.addKeyToStoredKeysList(r))},this.isNotAllowedToWriteValue=function(e,n){return null==n||null==n||t.doNotTrack&&!this.isAllowedKeyWhenDoNotTrack(e)},this.buildKeyWithPublisher=function(e,t){return e+":"+t},this.getPublisherValue=function(e,n){return t.doNotTrack&&!this.isAllowedKeyWhenDoNotTrack(n)?null:this.getLocalStorageImplementation().getValue(this.buildKeyWithPublisher(e,n))},this.addKeyToStoredKeysList=function(e){var t=this.getStoredKeysList();-1===t.indexOf(e)&&(t.push(e),this.setStoredKeysList(t))},this.getStoredKeysList=function(){var e=this.buildKeyWithPublisher(n,"local-storage-keys"),t=this.getLocalStorageImplementation().getValue(e),r=[];try{r=JSON.parse(t)||[]}catch(e){__trcError("Could not parse local storage keys",e)}return r},this.setStoredKeysList=function(e){var t,r;try{t=JSON.stringify(e),r=this.buildKeyWithPublisher(n,"local-storage-keys"),this.getLocalStorageImplementation().setValue(r,t)}catch(e){__trcError("Could not stringify local storage keys",e)}},this.isAllowedKeyWhenDoNotTrack=function(t){var n,r=(e.TRCImpl&&e.TRCImpl.global||{})["dnt-allowed-keys"]||["session-id"];return null!=t&&(n=t.split(":")[1]||t,-1!==r.indexOf(n))},this.storeUserId=function(e){this.isNotAllowedToWriteValue("user-id",e)||this.storePublisherValue(n,"user-id",e)},this.getUserIdFirstPartyCookie=function(){return this.getFirstPartyCookie().getValue(this.buildKeyWithPublisher(n,"user-id"))},this.getSessionDataFirstPartyCookie=function(){return this.getFirstPartyCookie().getValue(this.buildKeyWithPublisher(n,"session-data"))},this.initState=function(){void 0===this.state&&(this.state={}),this.state.privateStorageImpl=null},this.initState(),this},t.tfaPageManager.TABOOLA_GLOBAL_KEY=n}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t,n){var r=n.tfaPageManager,i="tblci",o="#"+i;function a(e,t){e&&t&&(t[e]=!0)}function s(e,t,n){for(var r={},i=0;i<arguments.length;i++)a(arguments[i],r);return Object.keys(r).length>1}n.tfaUserId={initialized:!1,userId:null,clickId:null,getUserId:function(){return this.userId},getClickId:function(){return this.clickId},getHttpsPrefix:function(){return"https://"},sendUserIdsToTrc:function(t,r,i,o){var a,c=[];if(s(t,r,i))return n.tfaUtil.safeAddParam("uiref",t,c),n.tfaUtil.safeAddParam("uils",r,c),n.tfaUtil.safeAddParam("uifpc",i,c),n.tfaUtil.safeAddParam("tblci",o,c),a=new Image,e._tfa.config.safeGet("tfa:add-referrer-policy-when-firing-pixel",!0)&&(a.referrerPolicy="no-referrer-when-downgrade"),a.src="https://trc.taboola.com/sg/taboola-tfa/1/um/?"+c.join("&"),a},isUserCanBeTracked:function(t){return!t||!e._tfa.config.safeGet("tfa-uid:filter-do-not-track",!0)||-1===t.indexOf("TABOOLA-DO-NOT-TRACK")},readAndStoreUserId:function(){var e=this.extractUserIdFromReferrer(),t=r.getValue("user-id"),n=r.getUserIdFirstPartyCookie();this.isUserCanBeTracked(e)||(e=void 0),this.isUserCanBeTracked(t)||(t=void 0),this.isUserCanBeTracked(n)||(n=void 0),this.sendUserIdsToTrc(e,t,n,this.getClickId()),e&&(r.storeUserId(e),n&&r.getFirstPartyCookie().setValue(r.TABOOLA_GLOBAL_KEY+":user-id",e)),this.userId=e||t||n},readAndStoreClickIdParam:function(){var e=this.extractClickIdFromUrl(this.getWindowLocation().toString())||this.extractClickIdFromUrl(this.getReferrer()),t=r.getValue(i);e&&r.storePublisherValue(r.TABOOLA_GLOBAL_KEY,i,e),this.clickId=e||t},extractUserIdFromReferrer:function(){var e=this.getReferrer();if(e&&e.indexOf("taboola")>-1)return n.tfaUtil.getParameterByName("ui",e)},extractClickIdFromUrl:function(e){if(e){var t,r=e.length>1&&-1!==e.indexOf("#")?e.substring(e.indexOf("#")):"";if(t=n.tfaUtil.getParameterByName(i,e))return t;if(r&&r.length>6&&0===r.indexOf(o))return r.substr(6)}},getWindowLocation:function(){return e.location},getReferrer:function(){return t.referrer},init:function(){this.initialized||(this.readAndStoreUserId(),this.readAndStoreClickIdParam(),this.initialized=!0)}},n.tfaUserId.init(),n.tfaUserId.CLICK_ID_KEY=i}(window,document,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t){var n,r,i,o,a,s="_tfa",c=e[s]=e[s]||[],u="crossSessionsData";function l(e,t,n){var r=this.getTimeLeftForSession(e,this.getSessionDuration(),t);r<0&&(r=0),setTimeout((function(){n()}),r)}function f(e){return e.ver&&e.ver===this.getDataVersion()}var d=function(){};d.prototype={constructor:d,init:function(e){if(a=c.config.safeGet("tfa:engagement:session-duration-in-milliseconds",216e5),!this.isInitialized()){var n=t.eventUtils.getDateNow(),r=this.getSessionDataFromStorage();if(this.getIsLocalStorageAvailable())return i=r&&r.sessionStartTime,l.call(this,r,n,e),i&&!this.isSessionInvalid(r)||(i=n,this.persistDefaultValues(i)),o=!0,this}},getStorageKey:function(){return"eng_mt"},getCrossSessionsData:function(e){var t=e&&e.getValue(this.getStorageKey()),n=t&&JSON.parse(t);return n&&n[u]},resetStorageMetricData:function(){var e=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage"),n=this.getCrossSessionsData(e),r={crossSessionsData:n};e.setValue(this.getStorageKey(),n?JSON.stringify(r):"")},hasOnlyCrossSessionData:function(e,t){return e&&1===e.length&&t.hasOwnProperty(u)},isSessionInvalid:function(e){if(!e)return!0;var t=Object.keys(e);return this.hasOnlyCrossSessionData(t,e)},getSessionDataFromStorage:function(){var e,n;e=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage"),r=!!e;var i=e&&e.getValue(this.getStorageKey());if(n=i&&JSON.parse(i))return this.isSessionInvalid(n)?n:!f.call(this,n)||this.hasSessionEnded()?(this.resetStorageMetricData(),n):n},hasSessionEnded:function(){return!!o&&(!i||t.eventUtils.getDateNow()-i>this.getSessionDuration())},persistDefaultValues:function(e){var n=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");if(n){var r={ver:36,sessionStartTime:e,scrollDepth:0,sessionDepth:[],timeOnSite:0},i=this.getCrossSessionsData(n);i&&(r[u]=i),n.setValue(this.getStorageKey(),JSON.stringify(r))}},persistSpecificMetricsData:function(e,n){var r,i=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");i&&e&&(r=this.getSessionDataFromStorage())&&(r[e]=n,i.setValue(this.getStorageKey(),JSON.stringify(r)))},getCrossSessionsDataKey:function(){return u},getSessionDuration:function(){return a},getDataVersion:function(){return 36},getIsLocalStorageAvailable:function(){return r},getSessionStartTime:function(){return i},getTimeLeftForSession:function(e,t,n){return e&&i?i+t-n:t},isInitialized:function(){return o}},(n=c.TEM=c.TEM||{}).ESU=n.ESU||new d}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t){var n,r="_tfa";function i(e,t){this.storageUtils.persistSpecificMetricsData(e,t)}var o=function(){};o.prototype={constructor:o,init:function(e,t,n){this.isValid=e&&t&&n,this.storageUtils=e,this.visibilityListener=n,this.refreshFromStorage(),this.initLastVisibleStartTime(),this.visibilityListener.subscribeToEvent(this.handleVisibilityChange.bind(this)),t.subscribeToEvent(this.handleStorageChange.bind(this))},getStorageKey:function(){return"timeOnSite"},initLastVisibleStartTime:function(){this.isValid&&(this.lastVisibleStartTime=t.eventUtils.getDateNow())},refreshFromStorage:function(){if(this.isValid){var e=this.storageUtils.getSessionDataFromStorage(),t=0;e&&e[this.getStorageKey()]&&(t=e[this.getStorageKey()]||0),this.timeOnSite=t}},calcTimeOnSite:function(){if(this.isValid)return this.lastVisibleStartTime?this.timeOnSite+(t.eventUtils.getDateNow()-this.lastVisibleStartTime):this.timeOnSite},handleVisibilityChange:function(){this.isValid&&(this.visibilityListener.getIsPageHidden()?(this.timeOnSite=this.calcTimeOnSite(),i.call(this,this.getStorageKey(),this.timeOnSite)):this.lastVisibleStartTime=t.eventUtils.getDateNow())},handleStorageChange:function(){this.refreshFromStorage()},getTimeOnSite:function(){if(this.isValid)return this.visibilityListener.getIsPageHidden()?this.timeOnSite:this.calcTimeOnSite()}},(n=e[r]=e[r]||[]).TEM=n.TEM||{},n.TEM.TOS=n.TEM.TOS||new o}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(){var e,t,n="_tfa",r=!1;function i(){return null==document.body||null==document.documentElement?0:(r=!0,Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-document.documentElement.clientHeight)}function o(e,t){this.storageUtils.persistSpecificMetricsData(e,t)}function a(e,t){var n;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}var s=function(){};s.prototype={constructor:s,init:function(e,t){this.storageUtils=e||{},t.subscribeToEvent(this.handleStorageChange.bind(this)),this.refreshFromStorage(),this.initEventListeners(),this.updateMeasurements(),this.calcMaxScrollPercentage()},getStorageKey:function(){return"scrollDepth"},getScrollDepth:function(){return r||this.calcMaxScrollPercentage(),this.maxScrollPercentage},getMaxScrollableAmount:function(){return r||(this.maxScrollableAmount=i()),this.maxScrollableAmount},initEventListeners:function(){window.addEventListener("resize",a(this.onResize.bind(this),100)),window.addEventListener("scroll",a(this.onScroll.bind(this),50))},refreshFromStorage:function(){var e=this.storageUtils.getSessionDataFromStorage(),t=0;e&&e[this.getStorageKey()]&&(t=e[this.getStorageKey()]||0),this.maxScrollPercentage=t},onResize:function(){this.updateMeasurements()},onScroll:function(){this.calcMaxScrollPercentage()},updateMeasurements:function(){this.winHeight=window.innerHeight,this.maxScrollableAmount=i()},calcMaxScrollPercentage:function(){this.updateMeasurements();var e=0===this.maxScrollableAmount?0:Math.floor(window.pageYOffset/this.maxScrollableAmount*100);e>this.maxScrollPercentage&&(this.maxScrollPercentage=e,o.call(this,this.getStorageKey(),this.maxScrollPercentage))},handleStorageChange:function(){this.refreshFromStorage()}},(t=(e=window[n]=window[n]||[]).TEM=e.TEM||{}).SCD=t.SCD||new s}(),function(e,t){var n=e._tfa.TEM,r=function(){};r.prototype={constructor:r,init:function(e,n,r){this.storageUtils=e,this.refreshFromStorage(),t.eventUtils.safeAddEventListener(r,this.handleUnipPageView.bind(this)),n.subscribeToEvent(this.handleStorageChange.bind(this))},getKey:function(){return"ssd"},getStorageKey:function(){return"sessionDepth"},setState:function(e){this.visitedUrls={};for(var t=0;t<e.length;t++)this.visitedUrls[e[t]]=!0},getState:function(){return this.visitedUrls?Object.keys(this.visitedUrls):[]},getMetric:function(){return this.getState().length},persistState:function(){var e=this.getState();this.storageUtils.persistSpecificMetricsData(this.getStorageKey(),e)},refreshFromStorage:function(){var e=this.storageUtils.getSessionDataFromStorage(),t=[];e&&e[this.getStorageKey()]&&(t=e[this.getStorageKey()]||[]),this.setState(t)},handleUnipPageView:function(){try{var e=t.eventUtils.hashString(window.location.href);this.visitedUrls[e]||(this.visitedUrls[e]=!0,this.persistState())}catch(e){}},handleStorageChange:function(){this.refreshFromStorage()},isURLVisited:function(e){return this.visitedUrls&&this.visitedUrls[e]}},n.SSD=n.SSD||new r}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e){var t,n,r=window._tfa||[],i=r.TEM||{},o="sessionsHistory",a=function(){};a.prototype={init:function(e){t=r.config.safeGet("tfa:engagement:session-history-limit",10),n=r.config.safeGet("tfa:engagement:session-history-timeframe-in-milliseconds",2592e6),this.storageUtils=e,this.updateCrossSessionsData(this.storageUtils.getSessionStartTime())},updateCrossSessionsData:function(e){var t=this.updateData(e);return this.storageUtils.persistSpecificMetricsData(this.storageUtils.getCrossSessionsDataKey(),t),t},updateData:function(e){var t=this.getCrossSessionsDataFromStorage()||{};return t[o]=this.getSessionsHistory(e),t},resetCrossSessionsData:function(){this.storageUtils.persistSpecificMetricsData(this.storageUtils.getCrossSessionsDataKey(),"")},getCrossSessionsDataFromStorage:function(){var e=this.storageUtils.getSessionDataFromStorage();return e&&e[this.storageUtils.getCrossSessionsDataKey()]},getFilteredSessionsHistory:function(e,n){var r=e?this.removeOldSessions(e,n):[];if(!r.indexOf(n)>-1&&!this.isInPreviousSession(r,n)){for(;r.length>t-1;)r.shift();r.push(n)}return r},removeOldSessions:function(e,t){for(var n=[],r=0;r<e.length;r++)this.isSessionOld(e[r],t)||n.push(e[r]);return n},isSessionOld:function(e,t){return t-n>e},getSessionsHistory:function(e){var t=this.getCrossSessionsDataFromStorage(),n=t?t[o]:[];return this.getFilteredSessionsHistory(n,e)},isInPreviousSession:function(e,t){return!(!Array.isArray(e)||!e.length)&&t-e[e.length-1]<this.storageUtils.getSessionDuration()}},i.crossSessionsUtils=i.crossSessionsUtils||new a}(),function(e){var t,n=window._tfa||[],r=n.TEM||{},i=function(){};i.prototype={init:function(e,r,i){(t=n.config.safeGet("tfa:engagement:return-visits:is-enabled",!1))&&(this.storageUtils=e,this.crossSessionsUtils=i,this.refreshSessionsHistoryFromLocalStorage(),r.subscribeToEvent(this.handleStorageChange.bind(this)))},setState:function(e){this.sessionsHistory=[];for(var t=0;t<e.length;t++)this.sessionsHistory.push(e[t])},addReturnVisits:function(e){if(e){if(t){var n=this.getReturnVisits();e.rv=n&&n.length}return e}},getReturnVisits:function(){var e=this.sessionsHistory;return Array.isArray(e)&&e.length?e:[]},refreshSessionsHistoryFromLocalStorage:function(){var e=this.storageUtils?this.storageUtils.getSessionStartTime():[],t=this.crossSessionsUtils&&this.crossSessionsUtils.getSessionsHistory(e);this.setState(t)},handleStorageChange:function(){this.refreshSessionsHistoryFromLocalStorage()}},r.returnVisits=r.returnVisits||new i}(),function(e,t){var n,r="_tfa",i=function(){};i.prototype={constructor:i,init:function(){this.runningId=0,this.subscribers={},this.setVisibilityProperties(),this.initMetricData(),this.initListener()},initMetricData:function(){this.isPageHidden=document[this.hiddenProp]},initListener:function(){t.eventUtils.safeAddEventListener(this.visibilityChangeEventName,this.handleVisibilityChange.bind(this))},setVisibilityProperties:function(){void 0!==document.hidden?(this.hiddenProp="hidden",this.visibilityChangeEventName="visibilitychange"):void 0!==document.msHidden?(this.hiddenProp="msHidden",this.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenProp="webkitHidden",this.visibilityChangeEventName="webkitvisibilitychange")},handleVisibilityChange:function(){this.isPageHidden=document[this.hiddenProp],this.notify()},getIsPageHidden:function(){return this.isPageHidden},subscribeToEvent:function(e){var t=this.runningId++;return this.subscribers[t]=e,function(){delete this.subscribers[t]}.bind(this)},notify:function(){Object.keys(this.subscribers).forEach(function(e){this.subscribers[e]()}.bind(this))}},(n=e[r]=e[r]||[]).TEM=n.TEM||{},n.TEM.visibilityListener=n.TEM.visibilityListener||new i}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t){var n,r="_tfa",i=function(){};i.prototype={constructor:i,init:function(e){this.runningId=0,this.subscribers={},this.storageUtils=e,this.initListener()},initListener:function(){t.eventUtils.safeAddEventListenerToWindow("storage",this.handleStorageChange.bind(this))},handleStorageChange:function(e){e&&e.key===this.storageUtils.getStorageKey()&&this.notify(e)},subscribeToEvent:function(e){var t=this.runningId++;return this.subscribers[t]=e,function(){delete this.subscribers[t]}.bind(this)},notify:function(e){Object.keys(this.subscribers).forEach(function(t){this.subscribers[t](e)}.bind(this))}},(n=e[r]=e[r]||[]).TEM=n.TEM||{},n.TEM.storageListener=n.TEM.storageListener||new i}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t){var n,r,i,o="_tfa",a=e[o]=e[o]||[],s=a.TEM=a.TEM||{},c=s.ESU||{},u=s.SCD||{},l=s.SSD||{},f=s.TOS||{},d=s.returnVisits||{},h=s.crossSessionsUtils||{},g=s.visibilityListener||{},p=s.storageListener||{},v=1500,m=50,S=3e4,b="numOfTimesMetricsSent",y="pre_d_eng_tb",T=!1,E=Date.now();function I(e){n.push(e)}function C(){w(),c.resetStorageMetricData()}function w(){clearTimeout(i)}function k(e){(isNaN(r)||r<0)&&(r=0),c.hasSessionEnded()||(r++,c.persistSpecificMetricsData(b,r),f.getTimeOnSite()>3e5&&l.getMetric()>5||s.sendMetrics("i",e),R())}function R(){if(clearTimeout(i),T&&!g.getIsPageHidden()){var e=v*Math.pow(2,r);e!==1/0&&(i=setTimeout(k,e,e))}}function _(){O(),R()}function O(){var e=c.getSessionDataFromStorage();r=e&&e[b]&&e[b]||0}function A(){p.subscribeToEvent(D.bind(this)),g.subscribeToEvent(U.bind(this))}function U(){g.getIsPageHidden()?w():R()}function D(e){O(),e&&T&&!g.getIsPageHidden()&&function(e){var t=JSON.parse(e.newValue),n=JSON.parse(e.oldValue);return!function(e,t){return e.sessionDepth.length!==t.sessionDepth.length}(t,n)&&!function(e,t){return e.timeOnSite!==t.timeOnSite}(t,n)}(e)&&(T=!1,w(),P(m,S,_,w))}function P(e,t,n,r){var i=!1;function o(e){if(window.top!==window){var t=window.parent;for(t.postMessage(e,"*");t!==t.parent;)(t=t.parent).postMessage(e,"*")}function n(t){try{for(var r=0;r<t.frames.length;r++){var i=t.frames[r];i!==window&&(i.postMessage(e,"*"),n(i))}}catch(e){}}n(window.top),window.parent!==window&&n(window)}function a(){o({type:"TARP",query:!1,t:E})}function s(){i=!1,o({type:"TARP",query:!0}),setTimeout((function(){i?setTimeout(t,s):T||(T=!0,n(),a())}),e)}T=!1,window.addEventListener("message",(function(e){var o=e.data;"TARP"===o.type&&e.source!==window&&(T?o.query?a():o.t<E?(T=!1,i=!0,r(),setTimeout(t,s)):a():o.query||(o.t<E?i=!0:(T=!0,n(),a())))})),s()}s.init=s.init||function(){s.initialized||a.config.safeGet("tfa:engagement:is-manager-disabled",!1,1566654)||(n=a.TUP||{},s.initialized=!0,s.ESU.init(C),g.init(),p.init(c),A(),s.ESU.getIsLocalStorageAvailable()&&(h.init(c),f.init(c,p,g),u.init(c,p),l.init(c,p,t.sharedEvents.PAGE_VIEW),d.init(c,p,h),s.initIntervalTrigger()),P(m,S,_,w))},s.onSessionEndTrigger=s.onSessionEndTrigger||C,s.sendMetrics=s.sendMetrics||function(e,t){var r=function(e,t){var n=f.getTimeOnSite(),r=u.getScrollDepth(),i=l.getMetric(),o={notify:"event",name:y,tos:n,scd:r,ssd:i,est:c.getSessionStartTime(),ver:c.getDataVersion(),isls:c.getIsLocalStorageAvailable(),src:e,invt:t,msa:"function"==typeof u.getMaxScrollableAmount?u.getMaxScrollableAmount():void 0};return d.addReturnVisits(o)}(e,t);r.est&&(n.pageViewAccountIds?function(e,t){var n=Object.keys(e);n.length>0?n.forEach((function(n){t.id=e[n],I(t)})):I(t)}(n.pageViewAccountIds,r):I(r))},s.initIntervalTrigger=s.initIntervalTrigger||_,s.EVENTS=s.EVENTS||{SESSION_END:"SESSION_END"}}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t){var n="_tfa",r=e[n]=e[n]||[],i="taboola global:last-external-referrer",o=["taboola","taboolanews","taboolasyndication"];t.lastExternalReferrer={init:function(){r.config.safeGet("tfa:last-external-referrer:is-disabled",!1,1566654)||this.extractExternalReferrerIfExistsAndStoreLocally()},extractExternalReferrerIfExistsAndStoreLocally:function(){var t=this.extractExternalReferrer(e);t&&this.saveExternalReferrerToLocalStorage(t)},extractExternalReferrer:function(e){var n=e.location.href,r=this.getExternalReferrer(e);return this.isExternalReferrerTaboola(n,r)?"taboola":r||t.tfaUtil.getParameterByName("utm_source",n)||t.tfaUtil.getParameterByName("gclid",n)||t.tfaUtil.getParameterByName("fbclid",n)||t.tfaUtil.getParameterByName("dicbo",n)||t.tfaUtil.getParameterByName("dclid",n)?"other":""},isExternalReferrerTaboola:function(e,n){if(t.tfaUtil.getParameterByName("tblci",e))return!0;var r=t.tfaUtil.getParameterByName("utm_source",e);if(r&&"taboola"===r.toLowerCase())return!0;if(n)for(var i=n.split("/")[2],a=0;a<o.length;a++){if(new RegExp("(^|.+\\.)"+o[a]+"\\.com.*").exec(i))return!0}return!1},getExternalReferrer:function(e){var t=e.document.referrer;return t&&e.location.hostname!==t.split("/")[2]?t:""},saveExternalReferrerToLocalStorage:function(e){var n=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");n&&n.setValue(i,e)},getLastExternalReferrer:function(){var n=t.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");return n?n.getValue(i):this.extractExternalReferrer(e)}},t.lastExternalReferrer.init()}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(e,t,n){var r,i=t.tfaPageManager||{},o="_tfa",a=window[o]=window[o]||[],s=a.TEM||{},c={event:function(e,n){var r=A(e),i=z(r),o=b[i];if(n=parseInt(n,10),!o||!o(r,n)){if(Q(n)){if(Y(n))return void function(e,n){var r=j();if(!t.trk.getPublisherRequestId(e)){if(t.trk.isRequestProcessing(e))return void r.messageDelayer.delayMessage(e,n,{successCallback:U,failCallback:function(e,t,n,r){var i=y[r];i||(i=r),K(t,i),D(e,t)},timeoutInMillis:J(e)});K(n,t.trk.getRequestStatus(e))}D(e,n)}(n,r);t.trk.getPublisherRequestId(n)||K(r,"wffo")}else K(r,"ttd");D(n,r)}},subscription:function(e,t){var n=A(e);(function(e,t){(function(e){e.ce="subscr"})(t),function(e){var t=i.getSessionDataFirstPartyCookie();void 0!==t&&t&&(e.sd=t)}(t),function(e,t){void 0!==e.sourceurl&&e.sourceurl&&(t.surl=e.sourceurl)}(e,t)})(e,n),D(parseInt(t,10),n)}},u=/(\S+)taboola(\S+|)\.com\/libtrc\/unip\/(\S+)\/tfa\.js(\S+|)/,l="script[src$='tfa.js']",f="//",d="page_view",h=["notify","id"],g={name:"en",url:"item-url",referrer:"ref",timestamp:"tim"},p=-1,v={protocol:"https:",host:"trc.taboola.com",httpMethod:"get",loggerEventName:"unip",logToConsole:!0},m={EMPTY_COMMAND:"EMPTY_COMMAND",MISSING_NOTIFY:"MISSING_NOTIFY",INVALID_NOTIFY:"INVALID_NOTIFY",MISSING_NAME:"MISSING_NAME",INVALID_ID:"INVALID_ID"},S={TFA_VALIDATION_ERROR:"TFA_VALIDATION_ERROR"},b=((r={})[d]=function(e,n){var r=j(),i=!1;return n&&(i=function(e,n){var r=!1;try{r=!!t.tfaUserId.getClickId()}catch(e){}return function(e){return Q(e)&&a.config.safeGet("tfa:trk:is-unified-page-view",!1,e)}(n)&&!function(e,t){if(e===d)for(var n in t)if(!([g.name,g.timestamp].indexOf(n)>=0))return!0;return!1}(d,e)&&!r}(e,n),P(e),r.pageViewAccountIds[n]=parseInt(n,10),t.eventUtils.dispatchEvent(t.sharedEvents.PAGE_VIEW,{accountId:n,publisherIdType:t.publisherIdType.ID,pageViewInitiator:t.pageViewInitiator.TFA,isUnifiedPageView:i,metadata:e})),i},r),y=function(){var e={};return e[t.sharedEvents.REQUEST_ID_CREATION_TIMEOUT]="to",e[t.sharedEvents.REQUEST_ID_CREATION_ERROR]="err",e[t.sharedEvents.REQUEST_ID_CREATION_JS_ERROR]="jserr",e[t.sharedEvents.INVALID_TRK_RESPONSE]="itrkr",e}(),T=!isNaN(parseFloat(1566654)),E="callback",I="ler";function C(){var e,t=function(){for(var e,t=document.querySelectorAll(l),n=0;n<t.length;n++)if((e=t[n]).src&&e.src.indexOf("/unip/")>0)return e}();if(t&&t.src&&(e=t.src.replace(u,"$3")))return/^\d+$/.test(e)?parseInt(e,10):(H("Value '"+e+"' is invalid for 'id' param in script source url '"+t.src+"'. Only numeric values are allowed."),p)}function w(){return t.eventUtils.getDateNow()}function k(){try{var e=t.tfaUserId.getUserId(),n=i.getValue("user-id");if(e||n)return e||n}catch(e){H("Error while trying to add user-id param",e)}}function R(e){try{var n=t.tfaUserId.getClickId();n&&(e[t.tfaUserId.CLICK_ID_KEY]=n)}catch(t){H("Error while trying to addClickIdParam, params="+JSON.stringify(e),t)}}function _(e){var n=j();n.referrer||(n.referrer=t.trk.getReferrer()),e[g.referrer]=n.referrer}function O(e,t){var n=g.url;(function(e,t){var n=a.config.safeGet("tfa:add-item-url:event-list",[],t);return"*"===n||n.indexOf(e)>=0})(z(e),t)&&(e[n]=e[n]||document.location.href)}function A(e){var t={},n=!1;for(var r in e[g.timestamp]=w(),e)!e.hasOwnProperty(r)||h.indexOf(r)>=0||(t[g.hasOwnProperty(r)?g[r]:r]=e[r],n=!0);return n&&t}function U(e,t){(function(e){var t=k(),n=e[E];if(n){if(!t)return W("No UserId to notify callback"),void delete e[E];if("function"!=typeof n)return W("Callback function parameter is not a function "+n),void delete e[E];try{n({userId:t})}catch(e){H("Error calling advertiser callback",e)}delete e[E]}})(t),D(e,t)}function D(e,n){var r=function(e){return a.config.safeGet("tfa:default-protocol",v.protocol,e)}(e)+f+function(e,t){var n=z(t);return a.config.safeGet("tfa:event-host-map",{},e)[n]||v.host}(e,n);(function(e,t){V(e),B(e,t),F(e,t)})(n,e),P(n,e),function(e){document.featurePolicy&&document.featurePolicy.allowedFeatures()&&-1!==document.featurePolicy.allowedFeatures().indexOf("attribution-reporting")&&(e.headers||(e.headers={}),e.headers["Attribution-Reporting-Eligible"]="trigger")}(n);try{t.TRCLogger[v.httpMethod](r,v.loggerEventName,n,e)}catch(t){H("Error while trying to send to server event with id '"+e+"' and params '"+JSON.stringify(n)+"'.",t)}}function P(e,t){(function(e){var t=k();t&&(e.ui=t)})(e),R(e),_(e),function(e){e.cv=n}(e),O(e,t),function(e){e&&s&&s.ESU&&s.ESU.getIsLocalStorageAvailable()&&(function(e){s.TOS&&(e.tos=s.TOS.getTimeOnSite())}(e),M(e),function(e){s.SCD&&(e.scd=s.SCD.getScrollDepth())}(e))}(e),N(e),L(e,t),x(e,t)}function N(e){var n=t.lastExternalReferrer.getLastExternalReferrer();n&&(e[I]=n)}function x(e,n){var r;a.config.safeGet("unip:collect-cookie-banner-consent:enabled",!0,n)&&(r=t.trk.parseCookieBanner())&&(e.cbp=r.cookieBannerProvider.providerName,e.cbpv=r.cookieBannerProvider.version,r.cookieBannerConsent.tcString&&a.config.safeGet("unip:send-tc-string:enabled",!0,n)?(e.tcs=r.cookieBannerConsent.tcString,void 0!==r.cookieBannerConsent.gdprApplies&&(e.ga=r.cookieBannerConsent.gdprApplies),void 0!==r.cookieBannerConsent.cmpStatus&&(e.cmps=r.cookieBannerConsent.cmpStatus)):r.cookieBannerConsent.consentData&&(e.cbcd=r.cookieBannerConsent.consentData))}function M(e){if(s.SSD){var n=s.SSD.getMetric(),r=t.eventUtils.hashString(window.location.href);s.SSD.isURLVisited(r)||n++,e.ssd=n}}function L(e,n){a.config.safeGet("unip:add-ccpa-params",!0,n)&&t.trk.getCcpaParam((function(t){t&&(e.ccpaPs=t)}))}function V(e){e.vi=t.trk.getViewId()}function B(e,n){var r=t.trk.getPublisherRequestId(n);r&&(e.ri=r)}function F(e,n){var r=t.trk.getPublisherSessionData(n);r&&(e.sd=r)}function K(e,t){e.mrir=t}function j(){return window&&window[o]&&window[o].TUP||{}}function G(e){var t,n;if(function(e){return e?e.notify?c.hasOwnProperty(e.notify)?e.name?!(e.hasOwnProperty("id")&&!/^\d+$/.test(e.id)&&(q(m.INVALID_ID,e,"Value '"+e.id+"' is invalid for 'id' field in command '"+JSON.stringify(e)+"'. Only numeric values are allowed."),1)):(q(m.MISSING_NAME,e,"Mandatory 'name' field is missing in command '"+JSON.stringify(e)+"'."),!1):(q(m.INVALID_NOTIFY,e,"Value '"+e.notify+"' is invalid for 'notify' field in command '"+JSON.stringify(e)+"'."),!1):(q(m.MISSING_NOTIFY,e,"Mandatory 'notify' field is missing in command '"+JSON.stringify(e)+"'."),!1):(q(m.EMPTY_COMMAND,e,"Command is '"+e+"'."),!1)}(e))if(t=j(),n=e.id||t.domAccountId){if(n!==p)try{c[e.notify](e,n)}catch(t){H("An error occurred while handling command '"+JSON.stringify(e)+"'.",t)}}else t.asyncQueue.push(e)}function q(e,n,r){var i=j();t.eventUtils.dispatchEvent(S.TFA_VALIDATION_ERROR,{accountId:i.domAccountId,errorCode:e,command:n}),H(r)}function H(e,t){v.logToConsole&&W(e,t)}function W(e,t){t?console.log("Taboola Pixel: "+e,t):console.log("Taboola Pixel: "+e)}function J(e){return 500+a.config.safeGet("tfa:trk:tracking-request-timeout",2e3,e)}function z(e){return e[g.name]}function Q(e){return a.config.safeGet("tfa:trk:enabled",!0,e)}function Y(e){return a.config.safeGet("tfa:trk:wait-for-request-id",!0,e)}!function(){var e=a.TUP=a.TUP||{},n=a.config.safeGet("tfa:get-publisher-id-from-baker",!1);e.domAccountId=e.domAccountId||(n&&T?1566654:C()),e.initialized||(e.push=a.TUP.push||G,e.initialized=!0,e.asyncQueue=[],e.EVENTS=S,e.pageViewAccountIds={},e.messageDelayer=new t.MessageDelayer("publisherId",t.sharedEvents.REQUEST_ID_CREATED,[t.sharedEvents.REQUEST_ID_CREATION_JS_ERROR,t.sharedEvents.REQUEST_ID_CREATION_ERROR,t.sharedEvents.REQUEST_ID_CREATION_TIMEOUT,t.sharedEvents.INVALID_TRK_RESPONSE]),s&&s.init&&s.init()),function(){var e=j();e.initialized&&e.domAccountId&&setTimeout((function(){for(var e=j().asyncQueue;e.length;)G(e.shift())}),0)}()}()}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"],"20230920-27-RELEASE"),function(e,t,n){var r,i="_tfa",o={orderid:"orderid",currency:"currency",revenue:"revenue",quantity:"quantity",name:"name",attributionGroup:"attributionGroup"},a={type:"marking-type"},s="https://trc.taboola.com/{$publishreId}log/3/{$logType}?",c=/(\S+)taboola(\S+|)\.com\/libtrc\/(\S+)\/tfa\.js(\S+|)/,u="unip/",l=[],f=[],d="_tecq",h="_dcojobs",g=!isNaN(parseFloat(1566654));function p(e){var t;switch(e.notify){case"action":t=l;break;case"mark":t=f;break;case"event":case"subscription":t=r.TUP;break;case"ecevent":var n=r.config&&r.config.safeGet("tfa:ecomm:enabled",!1,e.id),i=r.config&&r.config.safeGet("tfa:ecomm:cnx-enabled",!1,e.id);n||i?t=window[d]=window[d]||[]:r.config&&r.config.safeGet("tfa:dco:jobs:enabled",!1,e.id)&&(t=window[h]=window[h]||[]);break;default:return}t&&t.push(e)}function v(){return n.tfaUserId&&n.tfaUserId.getUserId()?"&ui="+encodeURIComponent(n.tfaUserId.getUserId()):""}function m(){return n.tfaUserId&&n.tfaUserId.getClickId()?"&"+n.tfaUserId.CLICK_ID_KEY+"="+encodeURIComponent(n.tfaUserId.getClickId()):""}function S(){var t,n,r;if(r=e._tfa.config.safeGet("tfa:get-publisher-id-from-baker",!1)&&g?1566654:k())for(t=0,n=l.length;t<n;t++)T(y(s,{$publishreId:r?r+"/":"",$logType:"action"})+"tim="+escape(I())+"&item-url="+escape(E())+R(o,l.shift())+C()+v()+m())}function b(){var t,n,r;if(r=e._tfa.config.safeGet("tfa:get-publisher-id-from-baker",!1)&&g?1566654:k())for(t=0,n=f.length;t<n;t++)T(y(s,{$publishreId:r?r+"/":"",$logType:"mark"})+"tim="+escape(I())+"&item-url="+escape(E())+R(a,f.shift())+C()+v()+m())}function y(e,t){return e.replace(/\{([^{}]*)\}/g,(function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r:e}))}function T(t){var n=new Image;e._tfa.config.safeGet("tfa:add-referrer-policy-when-firing-pixel",!0)&&(n.referrerPolicy="no-referrer-when-downgrade"),n.src=t}function E(){return e.location.href}function I(){var e=new Date,t=e.getHours(),n=e.getMinutes(),r=e.getSeconds()+e.getMilliseconds()/1e3;return(t<10?"0":"")+t+":"+(n<10?"0":"")+n+":"+(r<10?"0":"")+r.toFixed(3)}function C(){var n=e.location.search,r=t.referrer.match(/(\?\S+)$/g);return w(n.replace(/^\?/,"").split(/&/))+(r?w(r[0].replace(/^\?/,"").split(/&/)):"")}function w(e){var t,n,r="";for(t=0,n=e.length;t<n;t++)0==e[t].indexOf("trc_")&&(r=r+"&"+e[t]);return r}function k(){var e,t,n,r=document.getElementsByTagName("script"),i="";for(e=0,t=r.length;e<t;e++)if((n=r[e].src)&&(i=n.replace(c,"$3"))!==r[e].src&&i.indexOf(u)<0)return i;return i}function R(e,t){var n,r="";for(n in e)void 0!==t[n]&&(r+="&"+e[n]+"="+t[n]);return r}function _(e){for(var t=0;t<arguments.length;t++)(e=arguments[t])instanceof Object&&p(e);return S(),b(),arguments.length}(r=e[i]=e[i]||[]).registered||(r.push=_,r.registered=!0,function(){for(;r.length;)_(r.shift())}())}(window,document,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]);